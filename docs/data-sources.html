<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Data sources | Covid 19 Project</title>
  <meta name="description" content="Chapter 2 Data sources | Covid 19 Project" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Data sources | Covid 19 Project" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Data sources | Covid 19 Project" />
  
  
  

<meta name="author" content="Ruize Yu, Jiazhen Li, Wenxin Zhang" />


<meta name="date" content="2021-12-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-transformation.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">US Covid</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>2</b> Data sources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-sources.html"><a href="data-sources.html#vaccination-data"><i class="fa fa-check"></i><b>2.1</b> Vaccination data</a></li>
<li class="chapter" data-level="2.2" data-path="data-sources.html"><a href="data-sources.html#covid-19-reported-patient-impact-and-hospital-capa"><i class="fa fa-check"></i><b>2.2</b> COVID-19-Reported-Patient-Impact-and-Hospital-Capa</a></li>
<li class="chapter" data-level="2.3" data-path="data-sources.html"><a href="data-sources.html#united-states-covid-19-cases-and-deaths-by-state"><i class="fa fa-check"></i><b>2.3</b> United-States-COVID-19-Cases-and-Deaths-by-State</a></li>
<li class="chapter" data-level="2.4" data-path="data-sources.html"><a href="data-sources.html#life-expectancy-data"><i class="fa fa-check"></i><b>2.4</b> Life expectancy data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-transformation.html"><a href="data-transformation.html"><i class="fa fa-check"></i><b>3</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-transformation.html"><a href="data-transformation.html#vaccination-case-and-death-data"><i class="fa fa-check"></i><b>3.1</b> Vaccination, case, and death data</a></li>
<li class="chapter" data-level="3.2" data-path="data-transformation.html"><a href="data-transformation.html#relationship-between-morbidity-and-mortality-and-hospital-capacity"><i class="fa fa-check"></i><b>3.2</b> Relationship between morbidity and mortality and hospital capacity</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-transformation.html"><a href="data-transformation.html#covid-19_hospital_capacity"><i class="fa fa-check"></i><b>3.2.1</b> COVID-19_Hospital_Capacity</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-transformation.html"><a href="data-transformation.html#covid-19_case_death"><i class="fa fa-check"></i><b>3.2.2</b> COVID-19_Case_Death</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-transformation.html"><a href="data-transformation.html#merge"><i class="fa fa-check"></i><b>3.2.3</b> Merge</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-transformation.html"><a href="data-transformation.html#life-expectancy"><i class="fa fa-check"></i><b>3.3</b> Life Expectancy</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>4</b> Missing values</a>
<ul>
<li class="chapter" data-level="4.1" data-path="missing-values.html"><a href="missing-values.html#us-vaccination"><i class="fa fa-check"></i><b>4.1</b> US vaccination</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="missing-values.html"><a href="missing-values.html#dataframe-after-data-cleaning"><i class="fa fa-check"></i><b>4.1.1</b> Dataframe after data cleaning</a></li>
<li class="chapter" data-level="4.1.2" data-path="missing-values.html"><a href="missing-values.html#missing-value-counts-by-column"><i class="fa fa-check"></i><b>4.1.2</b> Missing value counts by column</a></li>
<li class="chapter" data-level="4.1.3" data-path="missing-values.html"><a href="missing-values.html#missing-value-counts-by-row"><i class="fa fa-check"></i><b>4.1.3</b> Missing value counts by row</a></li>
<li class="chapter" data-level="4.1.4" data-path="missing-values.html"><a href="missing-values.html#heatmap"><i class="fa fa-check"></i><b>4.1.4</b> Heatmap</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="missing-values.html"><a href="missing-values.html#covid-19_hospital_capacity-1"><i class="fa fa-check"></i><b>4.2</b> COVID-19_Hospital_Capacity</a></li>
<li class="chapter" data-level="4.3" data-path="missing-values.html"><a href="missing-values.html#covid-19_case_death-1"><i class="fa fa-check"></i><b>4.3</b> COVID-19_Case_Death</a></li>
<li class="chapter" data-level="4.4" data-path="missing-values.html"><a href="missing-values.html#life-expectancy-data-1"><i class="fa fa-check"></i><b>4.4</b> Life Expectancy Data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results</a>
<ul>
<li class="chapter" data-level="5.1" data-path="results.html"><a href="results.html#impact-of-the-vaccination-on-the-spread-of-the-epidemic"><i class="fa fa-check"></i><b>5.1</b> Impact of the vaccination on the spread of the epidemic</a></li>
<li class="chapter" data-level="5.2" data-path="results.html"><a href="results.html#impact-of-the-hospital-capacity-and-inpatient-rate-on-the-death-rate"><i class="fa fa-check"></i><b>5.2</b> Impact of the hospital capacity and inpatient rate on the death rate</a></li>
<li class="chapter" data-level="5.3" data-path="results.html"><a href="results.html#impact-of-covid-on-life-expectancy"><i class="fa fa-check"></i><b>5.3</b> Impact of COVID on life expectancy</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>6</b> Interactive component</a>
<ul>
<li class="chapter" data-level="6.1" data-path="interactive-component.html"><a href="interactive-component.html#top-5-series-states"><i class="fa fa-check"></i><b>6.1</b> Top 5 series states</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>7</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Covid 19 Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-sources" class="section level1" number="2">
<h1><span class="header-section-number">Chapter 2</span> Data sources</h1>
<p>In this project, we have three data sources</p>
<div id="vaccination-data" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Vaccination data</h2>
<p>We collected vaccination data from an organization called ‘Our World in Data’. They gather vaccination information of United States from official and update the data in a daily basis. The daily cases and death data are gathered from Center for Systems Science and Engineering at John Hopkins University. It’s updated every 24 hours as well.</p>
<p>For the vaccination data, there are 14 features. The names of them are listed below:</p>
<pre><code>##  [1] &quot;date&quot;                                &quot;location&quot;                            &quot;total_vaccinations&quot;                  &quot;total_distributed&quot;                   &quot;people_vaccinated&quot;                  
##  [6] &quot;people_fully_vaccinated_per_hundred&quot; &quot;total_vaccinations_per_hundred&quot;      &quot;people_fully_vaccinated&quot;             &quot;people_vaccinated_per_hundred&quot;       &quot;distributed_per_hundred&quot;            
## [11] &quot;daily_vaccinations_raw&quot;              &quot;daily_vaccinations&quot;                  &quot;daily_vaccinations_per_million&quot;      &quot;share_doses_used&quot;</code></pre>
<p>The starting date of this dataset is 2021-01-12 and the last day is yesterday.
The first problem we noticed was that in location, there are many places that are not US states. Like “Bureau of Prisons”,“Dept of Defense”… Therefore, the first step that we did was to filter out these none-states. Then we found a common issue, missing data. We visualized it in missing values chapter and decided to do a backward filling. Because most of these missing values were not continuous, we could simply use the latest values to fill in these missing spots.</p>
<p>For the cases and death data, the raw data put every day as a column therefore we first converted these columns to rows.</p>
<pre><code>##  [1] &quot;UID&quot;            &quot;iso2&quot;           &quot;iso3&quot;           &quot;code3&quot;          &quot;FIPS&quot;           &quot;Admin2&quot;         &quot;Province_State&quot; &quot;Country_Region&quot; &quot;Lat&quot;            &quot;Long_&quot;          &quot;Combined_Key&quot;   &quot;1/22/20&quot;       
## [13] &quot;1/23/20&quot;        &quot;1/24/20&quot;        &quot;1/25/20&quot;</code></pre>
<p>The starting date of this dataset is 2020-01-22 and the last day is yesterday.
When we tried to calculate daily growing cases and death from cummulative data, we noticed that there were mistakes when collecting these data because some of the growing numbers were negative. We used the same filling method as in vaccination data.</p>
</div>
<div id="covid-19-reported-patient-impact-and-hospital-capa" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> COVID-19-Reported-Patient-Impact-and-Hospital-Capa</h2>
<p>This data-set provides facility-level data for hospital utilization aggregated on a weekly basis (Friday to Thursday) in the time period from 2020-07-31 to 2021-11-26. It is mainly collected from two sources: (1) HHS TeleTracking, and (2) reporting provided directly to HHS Protect by state/territorial health departments on behalf of their healthcare facilities.</p>
<p>There are 106 features with 309719 records in the original data-set, but not all of those features are useful for our analysis, so we only select 6 specific features from 106 original features. These selected features including date, state, capacities of hospitals and number of hospitalized patients who are confirmed with COVID-19.</p>
<p>We also noticed that there is value -999999 in data-set which is not a reasonable value. Replacing -999999 with 2 since it represents sums and averages less than four, so use average to replace that. Because we want to compare the information between states, so group the data-set by state is also needed. Moreover, as the summary of the data-set shows below, there are missing values in features. Therefore, we also need to handle the NA values in the later process.</p>
<pre><code>##  hospital_pk          colle_week            state             total_beds       adu_conf          ped_conf        total_icu_beds  
##  Length:354733      Min.   :2020-07-31   Length:354733      Min.   :    0   Min.   :   0.00   Min.   :-40.0000   Min.   :   0.0  
##  Class :character   1st Qu.:2020-11-27   Class :character   1st Qu.:  194   1st Qu.:   0.00   1st Qu.:  0.0000   1st Qu.:   0.0  
##  Mode  :character   Median :2021-04-02   Mode  :character   Median :  490   Median :  16.00   Median :  0.0000   Median :  49.0  
##                     Mean   :2021-04-02                      Mean   : 1153   Mean   :  73.22   Mean   :  0.9242   Mean   : 152.4  
##                     3rd Qu.:2021-08-06                      3rd Qu.: 1526   3rd Qu.:  77.00   3rd Qu.:  0.0000   3rd Qu.: 168.0  
##                     Max.   :2021-12-03                      Max.   :35108   Max.   :9071.00   Max.   :519.0000   Max.   :5949.0  
##                                                             NA&#39;s   :1294    NA&#39;s   :2720      NA&#39;s   :3070       NA&#39;s   :2064</code></pre>
</div>
<div id="united-states-covid-19-cases-and-deaths-by-state" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> United-States-COVID-19-Cases-and-Deaths-by-State</h2>
<p>This data-set is collected by CDC, which includes counts of COVID-19 cases and death numbers daily in the time period form 2020-01-22 to 2021-12-07. CDC collects and organizes these data based on these most recent numbers reported by states, territories, and other jurisdictions. There are 41160 records with 15 features in the original data-set, and each record represents a specific date for a specific state. We only keep 3 features which are state, total number of cases and total number of death for our further analysis.</p>
<p>Because we want to merge this data-set with ‘COVID-19-Reported-Patient-Impact-and-Hospital-Capa’, so it is important to make sure they are in the same time period. Since the time range for ‘COVID-19-Reported-Patient-Impact-and-Hospital-Capa’ is smaller, so the subset of original data-set is generated with the time period from 2020-07-31 to 2021-11-26. The sub data-set has 29040 records with 3 features. Note that for the features ‘tot_cases’ and ‘tot_death’, they are cumulative features during the time period. Moreover, to compare between state, we add population column to calculate the percentage.</p>
<pre><code>##     state           submission_date        tot_cases         tot_death       population      
##  Length:25532       Min.   :2020-07-31   Min.   :   1295   Min.   :   26   Min.   :  581075  
##  Class :character   1st Qu.:2020-11-30   1st Qu.: 103570   1st Qu.: 1595   1st Qu.: 1837057  
##  Mode  :character   Median :2021-04-02   Median : 287450   Median : 5164   Median : 4385076  
##                     Mean   :2021-04-02   Mean   : 506323   Mean   : 8807   Mean   : 6433422  
##                     3rd Qu.:2021-08-03   3rd Qu.: 659642   3rd Qu.:11100   3rd Qu.: 7589312  
##                     Max.   :2021-12-03   Max.   :5084927   Max.   :74046   Max.   :39613493</code></pre>
</div>
<div id="life-expectancy-data" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Life expectancy data</h2>
<p>Our complete owid_covid_data data set is collected from ‘Our World in Data’. It includes data form Jan 2020 to Dec 2021. It is updated daily and includes data on confirmed cases, deaths and testing. The dataset can be downloaded from <a href="https://ourworldindata.org/coronavirus-source-data" class="uri">https://ourworldindata.org/coronavirus-source-data</a>.
Confirmed cases and deaths of our data comes from the COVID-19 Data Repository by the Center for Systems Science and Engineering (CSSE) at Johns Hopkins University (JHU). Full description of all variables is available in the code book or online: <a href="https://github.com/owid/covid-19-data/tree/master/public/data/" class="uri">https://github.com/owid/covid-19-data/tree/master/public/data/</a>
It original includes 138480 records and 67 features. But most variable names are self-explanatory and there are too many of them. So we only select 9 features. These selected features including continent, location, date iso_code, total_cases, new_cases, total_cases_per_million, new_cases_per_million and life_expectancy. Moreover, since the data on the COVID-19 can not be statistically comprehensive, so there are missing values in this data set, which are needed to be dealt with.</p>
<pre><code>##    iso_code          continent           location              date             total_cases          new_cases      total_cases_per_million new_cases_per_million life_expectancy
##  Length:138480      Length:138480      Length:138480      Min.   :2020-01-01   Min.   :        1   Min.   :-74347   Min.   :     0.0        Min.   :-3125.829     Min.   :53.28  
##  Class :character   Class :character   Class :character   1st Qu.:2020-08-20   1st Qu.:     2603   1st Qu.:     3   1st Qu.:   452.9        1st Qu.:    0.326     1st Qu.:67.94  
##  Mode  :character   Mode  :character   Mode  :character   Median :2021-02-07   Median :    30042   Median :   105   Median :  3506.4        Median :   11.401     Median :74.62  
##                                                           Mean   :2021-01-27   Mean   :  2174954   Mean   :  8527   Mean   : 21249.7        Mean   :   90.731     Mean   :73.26  
##                                                           3rd Qu.:2021-07-09   3rd Qu.:   281711   3rd Qu.:  1098   3rd Qu.: 27346.0        3rd Qu.:   85.426     3rd Qu.:78.74  
##                                                           Max.   :2021-12-07   Max.   :267150598   Max.   :908289   Max.   :252906.2        Max.   : 8620.690     Max.   :86.75  
##                                                                                NA&#39;s   :7688        NA&#39;s   :7693     NA&#39;s   :8358            NA&#39;s   :8363          NA&#39;s   :9728</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-transformation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/yrz1997/STAT5702-Final-Project-Group-7/edit/main/02-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/yrz1997/STAT5702-Final-Project-Group-7/blob/main/02-data.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
